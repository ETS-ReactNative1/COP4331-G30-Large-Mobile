{"version":3,"sources":["LoginButtonComponent.js"],"names":["LoginButtonComponent","loginClick","props","ID","console","log","global","userId","obj","username","username_login","trim","password","password_login","onMessageChange","js","JSON","stringify","fetch","method","body","headers","response","text","res","parse","status","Id","firstName","FirstName","lastName","LastName","email","Email","phone","Phone","test","navigation","navigate","message","styles","container","style","login_Button","login_Text","Login_Text","Component","StyleSheet","create","top","left","width","height","position","backgroundColor","borderRadius","fontFamily","color","fontSize","textAlign","right"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { StyleSheet, TouchableOpacity, Text } from \"react-native\";\nimport { createStackNavigator, createAppContainer } from 'react-navigation'; \n\nexport default class LoginButtonComponent extends Component {\n  render() {\n    return (\n      <TouchableOpacity style={[styles.container, this.props.style]}>\n        <TouchableOpacity\n          onPress = {() => this.loginClick(this.props)}\n          style={styles.login_Button}\n        >\n          <Text style={styles.login_Text}>{this.props.Login_Text || \"Login\"}</Text>\n        </TouchableOpacity>\n      </TouchableOpacity>\n    )\n  }\n\n  loginClick = async (props) =>\n  {\n    var ID = \"-1\";\n\n    try \n    {\n\n          console.log(global.userId);\n      // Get typed username and password\n      var obj = {username:global.username_login.trim(),password:global.password_login.trim()}; \n      props.onMessageChange(\"\");\n\n      // Request user info\n      var js = JSON.stringify(obj); \n      const response = await fetch('https://cop4331-g30-large.herokuapp.com/api/login', \n      {method:'POST',body:js,headers:{'Content-Type': 'application/json'}}); \n      var res = JSON.parse(await response.text());\n\n          console.log(global.userId);\n\n      // If no user found\n      if (response.status !== 200)\n      { \n        // Change message on login screen\n        props.onMessageChange(\"Username or Password Incorrect\");\n      } \n      else \n      {\n        props.onMessageChange(\"Success\");\n\n        ID = res.Id;\n\n        global.userId = res.Id;\n        global.firstName = res.FirstName;\n        global.lastName = res.LastName;\n        global.username = global.username_login;\n        global.email = res.Email;\n        //console.log(res.email);\n        global.phone = res.Phone;\n\n        console.log(\n          \"ID \" + global.userId + \"\\n\" +\n          \"First \" + global.firstName + \"\\n\" +\n          \"Last \" + global.lastName + \"\\n\" +\n          \"Username \" + global.username + \"\\n\" +\n          \"Email \" + global.email + \"\\n\" +\n          \"Phone \" + global.phone\n        );\n\n        // Navigate to dashboard\n        console.log(\"Navigate to Dashboard\");\n\n        (!props.test)\n          props.navigation.navigate('Dashboard');\n      } \n    } \n    catch(e) \n    {\n      props.onMessageChange(e.message); \n    }\n\n    //global.password = \"\";\n    //global.username = \"\";\n\n    return ID;\n  }\n}\n\n\n\nconst styles = StyleSheet.create({\n  container: {},\n  login_Button: {\n    top: 0,\n    left: 0,\n    width: \"100%\",\n    height: \"100%\",\n    position: \"absolute\",\n    backgroundColor: \"rgba(15,163,177,1)\",\n    borderRadius: 50\n  },\n  login_Text: {\n    top: \"25%\",\n    left: 0,\n    position: \"absolute\",\n    fontFamily: \"roboto-regular\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16,\n    textAlign: \"center\",\n    right: 0\n  }\n});\n"]}