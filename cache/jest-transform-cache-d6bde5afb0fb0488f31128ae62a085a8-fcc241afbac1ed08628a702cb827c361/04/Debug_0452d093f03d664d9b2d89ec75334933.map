{"version":3,"mappings":"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","names":["typeName","spaces","indent","debugNode","debugNodes","booleanValue","Function","bind","call","Boolean","prototype","valueOf","node","adapter","displayNameOfNode","type","displayName","n","Array","join","depth","string","split","map","x","propString","prop","options","String","quoteStyle","Number","verbose","propsString","props","keys","Object","filter","key","indentChildren","childrenStrs","indentLength","length","isRSTNodeLike","nodeType","name","isValidElement","ignoreProps","beforeProps","afterProps","childrenIndented","nodeClose","nodes","undefined"],"sources":["../src/Debug.js"],"sourcesContent":["import escape from 'lodash.escape';\nimport functionName from 'function.prototype.name';\nimport isString from 'is-string';\nimport isNumber from 'is-number-object';\nimport isCallable from 'is-callable';\nimport isBoolean from 'is-boolean-object';\nimport inspect from 'object-inspect';\nimport has from 'has';\n\nimport {\n  propsOfNode,\n  childrenOfNode,\n} from './RSTTraversal';\nimport getAdapter from './getAdapter';\n\nconst booleanValue = Function.bind.call(Function.call, Boolean.prototype.valueOf);\n\nexport function typeName(node) {\n  const adapter = getAdapter();\n  if (adapter.displayNameOfNode) {\n    return getAdapter().displayNameOfNode(node) || 'Component';\n  }\n  return typeof node.type === 'function'\n    ? (node.type.displayName || functionName(node.type) || 'Component')\n    : node.type;\n}\n\nexport function spaces(n) {\n  return Array(n + 1).join(' ');\n}\n\nexport function indent(depth, string) {\n  return string.split('\\n').map((x) => `${spaces(depth)}${x}`).join('\\n');\n}\n\nfunction propString(prop, options) {\n  if (isString(prop)) {\n    return inspect(String(prop), { quoteStyle: 'double' });\n  }\n  if (isNumber(prop)) {\n    return `{${inspect(Number(prop))}}`;\n  }\n  if (isBoolean(prop)) {\n    return `{${inspect(booleanValue(prop))}}`;\n  }\n  if (isCallable(prop)) {\n    return `{${inspect(prop)}}`;\n  }\n  if (typeof prop === 'object') {\n    if (options.verbose) {\n      return `{${inspect(prop)}}`;\n    }\n\n    return '{{...}}';\n  }\n  return `{[${typeof prop}]}`;\n}\n\nfunction propsString(node, options) {\n  const props = propsOfNode(node);\n  const keys = Object.keys(props).filter((x) => x !== 'children');\n  return keys.map((key) => `${key}=${propString(props[key], options)}`).join(' ');\n}\n\nfunction indentChildren(childrenStrs, indentLength) {\n  return childrenStrs.length\n    ? `\\n${childrenStrs.map((x) => indent(indentLength, x)).join('\\n')}\\n`\n    : '';\n}\n\nfunction isRSTNodeLike(node) {\n  return has(node, 'nodeType')\n    && typeof node.nodeType === 'string'\n    && has(node, 'type')\n    && has(node, 'key')\n    && has(node, 'ref')\n    && has(node, 'instance')\n    && has(node, 'rendered');\n}\n\nexport function debugNode(node, indentLength = 2, options = {}) {\n  if (typeof node === 'string' || typeof node === 'number') return escape(node);\n  if (typeof node === 'function') {\n    const name = functionName(node);\n    return `[function${name ? ` ${name}` : ''}]`;\n  }\n  if (!node) return '';\n\n  const adapter = getAdapter();\n  if (!adapter.isValidElement(node) && !isRSTNodeLike(node)) {\n    return `{${inspect(node)}}`;\n  }\n\n  const childrenStrs = childrenOfNode(node)\n    .map((n) => debugNode(n, indentLength, options))\n    .filter(Boolean);\n  const type = typeName(node);\n\n  const props = options.ignoreProps ? '' : propsString(node, options);\n  const beforeProps = props ? ' ' : '';\n  const afterProps = childrenStrs.length\n    ? '>'\n    : ' ';\n  const childrenIndented = indentChildren(childrenStrs, indentLength);\n  const nodeClose = childrenStrs.length ? `</${type}>` : '/>';\n  return `<${type}${beforeProps}${props}${afterProps}${childrenIndented}${nodeClose}`;\n}\n\nexport function debugNodes(nodes, options = {}) {\n  return nodes.map((node) => debugNode(node, undefined, options)).join('\\n\\n\\n');\n}\n"]}