{"version":3,"mappings":"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","names":["getFiber","element","container","global","document","createElement","inst","Tester","_inherits","_classCallCheck","_createClass","key","value","React","Component","ReactDOM","render","_reactInternalFiber","child","getLazyFiber","LazyComponent","SuspenseWrapper","Suspense","fallback","module","exports","detectFiberTags","supportsMode","StrictMode","supportsContext","createContext","supportsForwardRef","forwardRef","supportsMemo","memo","supportsProfiler","unstable_Profiler","Profiler","supportsSuspense","supportsLazy","lazy","Fn","Cls","Ctx","FwdRef","props","ref","HostRoot","tag","ClassComponent","Fragment","FunctionalComponent","MemoSFC","MemoClass","HostPortal","createPortal","HostComponent","HostText","Mode","ContextConsumer","Consumer","ContextProvider","Provider","ForwardRef","id","onRender","Lazy"],"sources":["../src/detectFiberTags.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { fakeDynamicImport } from 'enzyme-adapter-utils';\n\nfunction getFiber(element) {\n  const container = global.document.createElement('div');\n  let inst = null;\n  class Tester extends React.Component {\n    render() {\n      inst = this;\n      return element;\n    }\n  }\n  ReactDOM.render(React.createElement(Tester), container);\n  return inst._reactInternalFiber.child;\n}\n\nfunction getLazyFiber(LazyComponent) {\n  const container = global.document.createElement('div');\n  let inst = null;\n  // eslint-disable-next-line react/prefer-stateless-function\n  class Tester extends React.Component {\n    render() {\n      inst = this;\n      return React.createElement(LazyComponent);\n    }\n  }\n  // eslint-disable-next-line react/prefer-stateless-function\n  class SuspenseWrapper extends React.Component {\n    render() {\n      return React.createElement(\n        React.Suspense,\n        { fallback: false },\n        React.createElement(Tester),\n      );\n    }\n  }\n  ReactDOM.render(React.createElement(SuspenseWrapper), container);\n  return inst._reactInternalFiber.child;\n}\n\nmodule.exports = function detectFiberTags() {\n  const supportsMode = typeof React.StrictMode !== 'undefined';\n  const supportsContext = typeof React.createContext !== 'undefined';\n  const supportsForwardRef = typeof React.forwardRef !== 'undefined';\n  const supportsMemo = typeof React.memo !== 'undefined';\n  const supportsProfiler = typeof React.unstable_Profiler !== 'undefined' || typeof React.Profiler !== 'undefined';\n  const supportsSuspense = typeof React.Suspense !== 'undefined';\n  const supportsLazy = typeof React.lazy !== 'undefined';\n\n  function Fn() {\n    return null;\n  }\n  // eslint-disable-next-line react/prefer-stateless-function\n  class Cls extends React.Component {\n    render() {\n      return null;\n    }\n  }\n  let Ctx = null;\n  let FwdRef = null;\n  let LazyComponent = null;\n  if (supportsContext) {\n    Ctx = React.createContext();\n  }\n  if (supportsForwardRef) {\n    // React will warn if we don't have both arguments.\n    // eslint-disable-next-line no-unused-vars\n    FwdRef = React.forwardRef((props, ref) => null);\n  }\n  if (supportsLazy) {\n    LazyComponent = React.lazy(() => fakeDynamicImport(() => null));\n  }\n\n  return {\n    HostRoot: getFiber('test').return.return.tag, // Go two levels above to find the root\n    ClassComponent: getFiber(React.createElement(Cls)).tag,\n    Fragment: getFiber([['nested']]).tag,\n    FunctionalComponent: getFiber(React.createElement(Fn)).tag,\n    MemoSFC: supportsMemo\n      ? getFiber(React.createElement(React.memo(Fn))).tag\n      : -1,\n    MemoClass: supportsMemo\n      ? getFiber(React.createElement(React.memo(Cls))).tag\n      : -1,\n    HostPortal: getFiber(ReactDOM.createPortal(null, global.document.createElement('div'))).tag,\n    HostComponent: getFiber(React.createElement('span')).tag,\n    HostText: getFiber('text').tag,\n    Mode: supportsMode\n      ? getFiber(React.createElement(React.StrictMode)).tag\n      : -1,\n    ContextConsumer: supportsContext\n      ? getFiber(React.createElement(Ctx.Consumer, null, () => null)).tag\n      : -1,\n    ContextProvider: supportsContext\n      ? getFiber(React.createElement(Ctx.Provider, { value: null }, null)).tag\n      : -1,\n    ForwardRef: supportsForwardRef\n      ? getFiber(React.createElement(FwdRef)).tag\n      : -1,\n    Profiler: supportsProfiler\n      ? getFiber(React.createElement((React.Profiler || React.unstable_Profiler), { id: 'mock', onRender() {} })).tag\n      : -1,\n    Suspense: supportsSuspense\n      ? getFiber(React.createElement(React.Suspense, { fallback: false })).tag\n      : -1,\n    Lazy: supportsLazy\n      ? getLazyFiber(LazyComponent).tag\n      : -1,\n  };\n};\n"]}